<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>open spiel: open_spiel.python.algorithms.efr.EFRSolver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">open spiel
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceopen__spiel.html">open_spiel</a></li><li class="navelem"><a class="el" href="namespaceopen__spiel_1_1python.html">python</a></li><li class="navelem"><a class="el" href="namespaceopen__spiel_1_1python_1_1algorithms.html">algorithms</a></li><li class="navelem"><a class="el" href="namespaceopen__spiel_1_1python_1_1algorithms_1_1efr.html">efr</a></li><li class="navelem"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver.html">EFRSolver</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">open_spiel.python.algorithms.efr.EFRSolver Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for open_spiel.python.algorithms.efr.EFRSolver:</div>
<div class="dyncontent">
<div class="center"><img src="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver__inherit__graph.png" border="0" usemap="#aopen__spiel_8python_8algorithms_8efr_8_e_f_r_solver_inherit__map" alt="Inheritance graph"/></div>
<map name="aopen__spiel_8python_8algorithms_8efr_8_e_f_r_solver_inherit__map" id="aopen__spiel_8python_8algorithms_8efr_8_e_f_r_solver_inherit__map">
<area shape="rect" title=" " alt="" coords="5,733,209,833"/>
<area shape="rect" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver.html" title=" " alt="" coords="5,571,209,685"/>
<area shape="poly" title=" " alt="" coords="110,700,110,734,105,734,105,700"/>
<area shape="rect" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html" title=" " alt="" coords="5,119,209,523"/>
<area shape="poly" title=" " alt="" coords="110,538,110,571,105,571,105,538"/>
<area shape="rect" title=" " alt="" coords="83,5,131,71"/>
<area shape="poly" title=" " alt="" coords="110,86,110,119,105,119,105,86"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for open_spiel.python.algorithms.efr.EFRSolver:</div>
<div class="dyncontent">
<div class="center"><img src="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver__coll__graph.png" border="0" usemap="#aopen__spiel_8python_8algorithms_8efr_8_e_f_r_solver_coll__map" alt="Collaboration graph"/></div>
<map name="aopen__spiel_8python_8algorithms_8efr_8_e_f_r_solver_coll__map" id="aopen__spiel_8python_8algorithms_8efr_8_e_f_r_solver_coll__map">
<area shape="rect" title=" " alt="" coords="5,733,209,833"/>
<area shape="rect" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver.html" title=" " alt="" coords="5,571,209,685"/>
<area shape="poly" title=" " alt="" coords="110,700,110,734,105,734,105,700"/>
<area shape="rect" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html" title=" " alt="" coords="5,119,209,523"/>
<area shape="poly" title=" " alt="" coords="110,538,110,571,105,571,105,538"/>
<area shape="rect" title=" " alt="" coords="83,5,131,71"/>
<area shape="poly" title=" " alt="" coords="110,86,110,119,105,119,105,86"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a02d9eb051daad4479dd077f09925cb08" id="r_a02d9eb051daad4479dd077f09925cb08"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a02d9eb051daad4479dd077f09925cb08">__init__</a> (self, game, deviations_name)</td></tr>
<tr class="separator:a02d9eb051daad4479dd077f09925cb08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver.html">open_spiel.python.algorithms.efr._EFRSolver</a></td></tr>
<tr class="memitem:acf1961cc5aa3d18e2477349257aaf5e3 inherit pub_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver" id="r_acf1961cc5aa3d18e2477349257aaf5e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver.html#acf1961cc5aa3d18e2477349257aaf5e3">evaluate_and_update_policy</a> (self)</td></tr>
<tr class="separator:acf1961cc5aa3d18e2477349257aaf5e3 inherit pub_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html">open_spiel.python.algorithms.efr._EFRSolverBase</a></td></tr>
<tr class="memitem:ac54528ee3c214bbc1ded06b9627dfedc inherit pub_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_ac54528ee3c214bbc1ded06b9627dfedc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#ac54528ee3c214bbc1ded06b9627dfedc">return_cumulative_regret</a> (self)</td></tr>
<tr class="separator:ac54528ee3c214bbc1ded06b9627dfedc inherit pub_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a066b6ea8fac9b338df5b3169fd99f891 inherit pub_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_a066b6ea8fac9b338df5b3169fd99f891"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#a066b6ea8fac9b338df5b3169fd99f891">current_policy</a> (self)</td></tr>
<tr class="separator:a066b6ea8fac9b338df5b3169fd99f891 inherit pub_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6786b4c3ec18f669c4ff1e3513157396 inherit pub_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_a6786b4c3ec18f669c4ff1e3513157396"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#a6786b4c3ec18f669c4ff1e3513157396">average_policy</a> (self)</td></tr>
<tr class="separator:a6786b4c3ec18f669c4ff1e3513157396 inherit pub_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ab0abc226b5fd4a593318ebd08ea67e1f" id="r_ab0abc226b5fd4a593318ebd08ea67e1f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0abc226b5fd4a593318ebd08ea67e1f">_regret_matching</a> (self, legal_actions, info_set_node)</td></tr>
<tr class="separator:ab0abc226b5fd4a593318ebd08ea67e1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html">open_spiel.python.algorithms.efr._EFRSolverBase</a></td></tr>
<tr class="memitem:a79f27524dde7f1d19f9ff79b1f1b4767 inherit pro_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_a79f27524dde7f1d19f9ff79b1f1b4767"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#a79f27524dde7f1d19f9ff79b1f1b4767">_initialize_info_state_nodes</a> (self, <a class="el" href="policy__iteration_8cc.html#aef5972335703cda91a1daa78e046d9d5">state</a>, history, path_indices)</td></tr>
<tr class="separator:a79f27524dde7f1d19f9ff79b1f1b4767 inherit pro_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a391f68833db2d3446e9c7cae13355a8e inherit pro_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_a391f68833db2d3446e9c7cae13355a8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#a391f68833db2d3446e9c7cae13355a8e">_update_current_policy</a> (self, <a class="el" href="policy__iteration_8cc.html#aef5972335703cda91a1daa78e046d9d5">state</a>, <a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#a066b6ea8fac9b338df5b3169fd99f891">current_policy</a>)</td></tr>
<tr class="separator:a391f68833db2d3446e9c7cae13355a8e inherit pro_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97247da249ef52e8dae5212c742884b6 inherit pro_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_a97247da249ef52e8dae5212c742884b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#a97247da249ef52e8dae5212c742884b6">_compute_cumulative_immediate_regret_for_player</a> (self, <a class="el" href="policy__iteration_8cc.html#aef5972335703cda91a1daa78e046d9d5">state</a>, policies, reach_probabilities, <a class="el" href="basic__tests_8cc.html#af61d6983a9396a11078805087518af88">player</a>)</td></tr>
<tr class="separator:a97247da249ef52e8dae5212c742884b6 inherit pro_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf2a4512ee545dd182608b84ab5cee92 inherit pro_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_adf2a4512ee545dd182608b84ab5cee92"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#adf2a4512ee545dd182608b84ab5cee92">_get_infostate_policy</a> (self, info_state_str)</td></tr>
<tr class="separator:adf2a4512ee545dd182608b84ab5cee92 inherit pro_methods_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a3f0229e42e0ef3eab733e869edcee91f" id="r_a3f0229e42e0ef3eab733e869edcee91f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f0229e42e0ef3eab733e869edcee91f">_external_only</a></td></tr>
<tr class="separator:a3f0229e42e0ef3eab733e869edcee91f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver.html">open_spiel.python.algorithms.efr._EFRSolver</a></td></tr>
<tr class="memitem:ae4f5a0587cd64e396d807c313db08b22 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver" id="r_ae4f5a0587cd64e396d807c313db08b22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver.html#ae4f5a0587cd64e396d807c313db08b22">_root_node</a></td></tr>
<tr class="separator:ae4f5a0587cd64e396d807c313db08b22 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a591c5064df9cace70f4cea78d9115b7b inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver" id="r_a591c5064df9cace70f4cea78d9115b7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver.html#a591c5064df9cace70f4cea78d9115b7b">_current_policy</a></td></tr>
<tr class="separator:a591c5064df9cace70f4cea78d9115b7b inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html">open_spiel.python.algorithms.efr._EFRSolverBase</a></td></tr>
<tr class="memitem:a56f71075aef3fc34a0177f73446b8999 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_a56f71075aef3fc34a0177f73446b8999"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#a56f71075aef3fc34a0177f73446b8999">_game</a></td></tr>
<tr class="separator:a56f71075aef3fc34a0177f73446b8999 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5fdcad928ec2d3283fd696aad9a4f85 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_aa5fdcad928ec2d3283fd696aad9a4f85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#aa5fdcad928ec2d3283fd696aad9a4f85">_num_players</a></td></tr>
<tr class="separator:aa5fdcad928ec2d3283fd696aad9a4f85 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27935c3db4552f2053686ea3439c524e inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_a27935c3db4552f2053686ea3439c524e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#a27935c3db4552f2053686ea3439c524e">_root_node</a></td></tr>
<tr class="separator:a27935c3db4552f2053686ea3439c524e inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35ba8a1584a6cd04eacf433f72f08631 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_a35ba8a1584a6cd04eacf433f72f08631"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#a35ba8a1584a6cd04eacf433f72f08631">_current_policy</a></td></tr>
<tr class="separator:a35ba8a1584a6cd04eacf433f72f08631 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80de4ec14fdae3c2a626a2355e125472 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_a80de4ec14fdae3c2a626a2355e125472"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#a80de4ec14fdae3c2a626a2355e125472">_average_policy</a></td></tr>
<tr class="separator:a80de4ec14fdae3c2a626a2355e125472 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaac22fd5058ece87b89a2ff4186386fb inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_aaac22fd5058ece87b89a2ff4186386fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#aaac22fd5058ece87b89a2ff4186386fb">_deviation_gen</a></td></tr>
<tr class="separator:aaac22fd5058ece87b89a2ff4186386fb inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24cb43fb6c2a10a4b7d562c9c7175a49 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_a24cb43fb6c2a10a4b7d562c9c7175a49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#a24cb43fb6c2a10a4b7d562c9c7175a49">_info_state_nodes</a></td></tr>
<tr class="separator:a24cb43fb6c2a10a4b7d562c9c7175a49 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11b611b834c77fb81914ce8e5cbfd7c4 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base" id="r_a11b611b834c77fb81914ce8e5cbfd7c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#a11b611b834c77fb81914ce8e5cbfd7c4">_iteration</a></td></tr>
<tr class="separator:a11b611b834c77fb81914ce8e5cbfd7c4 inherit pro_attribs_classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Implements the EFR algorithm with several deviation types.

See: https://arxiv.org/abs/2102.06973
</pre> 
<p class="definition">Definition at line <a class="el" href="efr_8py_source.html#l00438">438</a> of file <a class="el" href="efr_8py_source.html">efr.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a02d9eb051daad4479dd077f09925cb08" name="a02d9eb051daad4479dd077f09925cb08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02d9eb051daad4479dd077f09925cb08">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">open_spiel.python.algorithms.efr.EFRSolver.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>game</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>deviations_name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initializer.

Args:
  game: The `pyspiel.Game` to run on.
  deviations_name: the name of the deviation type to use for
    accumulating regrets and calculating the strategy at the next timestep.

Deviation types implemented are "blind action", "informed action",
"blind cf", "informed counterfactual", "blind partial sequence",
"counterfactual partial sequence", "casual partial sequence",
"twice informed partial sequence", "single target behavioural".

See "Efficient Deviation Types and Learning for Hindsight Rationality in
Extensive-Form Games" by D. Morrill et al. 2021b
for the full definition of each type.
</pre> 
<p>Reimplemented from <a class="el" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#adfede529f9a5fea85ef8daa1db7cfb7f">open_spiel.python.algorithms.efr._EFRSolverBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="efr_8py_source.html#l00444">444</a> of file <a class="el" href="efr_8py_source.html">efr.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  444</span>  <span class="keyword">def </span>__init__(self, game, deviations_name):</div>
<div class="line"><span class="lineno">  445</span>    <span class="stringliteral">&quot;&quot;&quot;Initializer.</span></div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  448</span><span class="stringliteral">      game: The `pyspiel.Game` to run on.</span></div>
<div class="line"><span class="lineno">  449</span><span class="stringliteral">      deviations_name: the name of the deviation type to use for</span></div>
<div class="line"><span class="lineno">  450</span><span class="stringliteral">        accumulating regrets and calculating the strategy at the next timestep.</span></div>
<div class="line"><span class="lineno">  451</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral">    Deviation types implemented are &quot;blind action&quot;, &quot;informed action&quot;,</span></div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral">    &quot;blind cf&quot;, &quot;informed counterfactual&quot;, &quot;blind partial sequence&quot;,</span></div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral">    &quot;counterfactual partial sequence&quot;, &quot;casual partial sequence&quot;,</span></div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">    &quot;twice informed partial sequence&quot;, &quot;single target behavioural&quot;.</span></div>
<div class="line"><span class="lineno">  456</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  457</span><span class="stringliteral">    See &quot;Efficient Deviation Types and Learning for Hindsight Rationality in</span></div>
<div class="line"><span class="lineno">  458</span><span class="stringliteral">    Extensive-Form Games&quot; by D. Morrill et al. 2021b</span></div>
<div class="line"><span class="lineno">  459</span><span class="stringliteral">    for the full definition of each type.</span></div>
<div class="line"><span class="lineno">  460</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>    <span class="comment"># external_only = True leads to a shortcut in the computation of the next</span></div>
<div class="line"><span class="lineno">  463</span>    <span class="comment"># timesteps strategy from the regrets</span></div>
<div class="line"><span class="lineno">  464</span>    external_only = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  465</span>    deviation_sets = <span class="keywordtype">None</span>  <span class="comment"># pylint: disable=unused-variable</span></div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">if</span> deviations_name <span class="keywordflow">in</span> {<span class="stringliteral">&quot;blind action&quot;</span>}:</div>
<div class="line"><span class="lineno">  468</span>      deviation_sets = return_blind_action</div>
<div class="line"><span class="lineno">  469</span>      external_only = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">elif</span> deviations_name <span class="keywordflow">in</span> {<span class="stringliteral">&quot;informed action&quot;</span>}:</div>
<div class="line"><span class="lineno">  471</span>      deviation_sets = return_informed_action</div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordflow">elif</span> deviations_name <span class="keywordflow">in</span> {<span class="stringliteral">&quot;blind cf&quot;</span>, <span class="stringliteral">&quot;blind counterfactual&quot;</span>}:</div>
<div class="line"><span class="lineno">  473</span>      deviation_sets = return_blind_cf</div>
<div class="line"><span class="lineno">  474</span>      external_only = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordflow">elif</span> deviations_name <span class="keywordflow">in</span> {<span class="stringliteral">&quot;informed cf&quot;</span>, <span class="stringliteral">&quot;informed counterfactual&quot;</span>}:</div>
<div class="line"><span class="lineno">  476</span>      deviation_sets = return_informed_cf</div>
<div class="line"><span class="lineno">  477</span>    <span class="keywordflow">elif</span> deviations_name <span class="keywordflow">in</span> {<span class="stringliteral">&quot;bps&quot;</span>, <span class="stringliteral">&quot;blind partial sequence&quot;</span>}:</div>
<div class="line"><span class="lineno">  478</span>      deviation_sets = return_blind_partial_sequence</div>
<div class="line"><span class="lineno">  479</span>      external_only = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  480</span>    <span class="keywordflow">elif</span> deviations_name <span class="keywordflow">in</span> {</div>
<div class="line"><span class="lineno">  481</span>        <span class="stringliteral">&quot;cfps&quot;</span>,</div>
<div class="line"><span class="lineno">  482</span>        <span class="stringliteral">&quot;cf partial sequence&quot;</span>,</div>
<div class="line"><span class="lineno">  483</span>        <span class="stringliteral">&quot;counterfactual partial sequence&quot;</span>,</div>
<div class="line"><span class="lineno">  484</span>    }:</div>
<div class="line"><span class="lineno">  485</span>      deviation_sets = return_cf_partial_sequence</div>
<div class="line"><span class="lineno">  486</span>    <span class="keywordflow">elif</span> deviations_name <span class="keywordflow">in</span> {<span class="stringliteral">&quot;csps&quot;</span>, <span class="stringliteral">&quot;casual partial sequence&quot;</span>}:</div>
<div class="line"><span class="lineno">  487</span>      deviation_sets = return_cs_partial_sequence</div>
<div class="line"><span class="lineno">  488</span>    <span class="keywordflow">elif</span> deviations_name <span class="keywordflow">in</span> {<span class="stringliteral">&quot;tips&quot;</span>, <span class="stringliteral">&quot;twice informed partial sequence&quot;</span>}:</div>
<div class="line"><span class="lineno">  489</span>      deviation_sets = return_twice_informed_partial_sequence</div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordflow">elif</span> deviations_name <span class="keywordflow">in</span> {<span class="stringliteral">&quot;bhv&quot;</span>, <span class="stringliteral">&quot;single target behavioural&quot;</span>, <span class="stringliteral">&quot;behavioural&quot;</span>}:</div>
<div class="line"><span class="lineno">  491</span>      deviation_sets = return_behavourial</div>
<div class="line"><span class="lineno">  492</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  493</span>      <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  494</span>          <span class="stringliteral">&quot;Unsupported Deviation Set Passed As                       &quot;</span></div>
<div class="line"><span class="lineno">  495</span>          <span class="stringliteral">&quot; Constructor Argument&quot;</span></div>
<div class="line"><span class="lineno">  496</span>      )</div>
<div class="line"><span class="lineno">  497</span>    super(EFRSolver, self).__init__(game, deviation_sets)</div>
<div class="line"><span class="lineno">  498</span>    self._external_only = external_only</div>
<div class="line"><span class="lineno">  499</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="efr_8py_source.html#l00444">open_spiel.python.algorithms.efr.EFRSolver.__init__()</a>.</p>

<p class="reference">Referenced by <a class="el" href="efr_8py_source.html#l00444">open_spiel.python.algorithms.efr.EFRSolver.__init__()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver_a02d9eb051daad4479dd077f09925cb08_cgraph.png" border="0" usemap="#aclassopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver_a02d9eb051daad4479dd077f09925cb08_cgraph" alt=""/></div>
<map name="aclassopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver_a02d9eb051daad4479dd077f09925cb08_cgraph" id="aclassopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver_a02d9eb051daad4479dd077f09925cb08_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,218,70"/>
<area shape="poly" title=" " alt="" coords="71,29,69,19,76,10,90,5,112,3,135,5,148,11,146,16,133,10,111,8,91,10,79,15,75,20,76,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver_a02d9eb051daad4479dd077f09925cb08_icgraph.png" border="0" usemap="#aclassopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver_a02d9eb051daad4479dd077f09925cb08_icgraph" alt=""/></div>
<map name="aclassopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver_a02d9eb051daad4479dd077f09925cb08_icgraph" id="aclassopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver_a02d9eb051daad4479dd077f09925cb08_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,218,70"/>
<area shape="poly" title=" " alt="" coords="146,16,133,10,111,8,91,10,79,15,75,20,76,28,71,29,69,19,76,10,90,5,112,3,135,5,148,11"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab0abc226b5fd4a593318ebd08ea67e1f" name="ab0abc226b5fd4a593318ebd08ea67e1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0abc226b5fd4a593318ebd08ea67e1f">&#9670;&#160;</a></span>_regret_matching()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">open_spiel.python.algorithms.efr.EFRSolver._regret_matching </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>legal_actions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>info_set_node</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Returns an info state policy.

The info state policy returned is the one obtained by applying
regret-matching function over all deviations and time selection functions.

Args:
  legal_actions: the list of legal actions at this state.
  info_set_node: the info state node to compute the policy for.

Returns:
  A dict of action -&gt; prob for all legal actions.
</pre> 
<p class="definition">Definition at line <a class="el" href="efr_8py_source.html#l00500">500</a> of file <a class="el" href="efr_8py_source.html">efr.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  500</span>  <span class="keyword">def </span>_regret_matching(self, legal_actions, info_set_node):</div>
<div class="line"><span class="lineno">  501</span>    <span class="stringliteral">&quot;&quot;&quot;Returns an info state policy.</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">    The info state policy returned is the one obtained by applying</span></div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral">    regret-matching function over all deviations and time selection functions.</span></div>
<div class="line"><span class="lineno">  505</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  506</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  507</span><span class="stringliteral">      legal_actions: the list of legal actions at this state.</span></div>
<div class="line"><span class="lineno">  508</span><span class="stringliteral">      info_set_node: the info state node to compute the policy for.</span></div>
<div class="line"><span class="lineno">  509</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">  511</span><span class="stringliteral">      A dict of action -&gt; prob for all legal actions.</span></div>
<div class="line"><span class="lineno">  512</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  513</span>    z = sum(info_set_node.y_values.values())</div>
<div class="line"><span class="lineno">  514</span>    info_state_policy = {}</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>    <span class="comment"># The fixed point solution can be directly obtained through the</span></div>
<div class="line"><span class="lineno">  517</span>    <span class="comment"># weighted regret matrix if only external deviations are used.</span></div>
<div class="line"><span class="lineno">  518</span>    <span class="keywordflow">if</span> self._external_only <span class="keywordflow">and</span> z &gt; 0:</div>
<div class="line"><span class="lineno">  519</span>      weighted_deviation_matrix = np.zeros(</div>
<div class="line"><span class="lineno">  520</span>          (<a class="code hl_variable" href="low__level__alloc__test_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>(legal_actions), <a class="code hl_variable" href="low__level__alloc__test_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>(legal_actions))</div>
<div class="line"><span class="lineno">  521</span>      )</div>
<div class="line"><span class="lineno">  522</span>      <span class="keywordflow">for</span> dev <span class="keywordflow">in</span> list(info_set_node.y_values.keys()):</div>
<div class="line"><span class="lineno">  523</span>        weighted_deviation_matrix += (</div>
<div class="line"><span class="lineno">  524</span>            info_set_node.y_values[dev] / z</div>
<div class="line"><span class="lineno">  525</span>        ) * dev.return_transform_matrix()</div>
<div class="line"><span class="lineno">  526</span>      new_strategy = weighted_deviation_matrix[:, 0]</div>
<div class="line"><span class="lineno">  527</span>      <span class="keywordflow">for</span> index <span class="keywordflow">in</span> range(<a class="code hl_variable" href="low__level__alloc__test_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>(legal_actions)):</div>
<div class="line"><span class="lineno">  528</span>        info_state_policy[legal_actions[index]] = new_strategy[index]</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>    <span class="comment"># Full regret matching by finding the least squares solution to the</span></div>
<div class="line"><span class="lineno">  531</span>    <span class="comment"># fixed point of the EFR regret matching function.</span></div>
<div class="line"><span class="lineno">  532</span>    <span class="comment"># Last row of matrix and the column entry minimises the solution</span></div>
<div class="line"><span class="lineno">  533</span>    <span class="comment"># towards a strategy.</span></div>
<div class="line"><span class="lineno">  534</span>    <span class="keywordflow">elif</span> z &gt; 0:</div>
<div class="line"><span class="lineno">  535</span>      num_actions = <a class="code hl_variable" href="low__level__alloc__test_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>(info_set_node.legal_actions)</div>
<div class="line"><span class="lineno">  536</span>      weighted_deviation_matrix = -np.eye(num_actions)</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>      <span class="keywordflow">for</span> dev <span class="keywordflow">in</span> list(info_set_node.y_values.keys()):</div>
<div class="line"><span class="lineno">  539</span>        weighted_deviation_matrix += (</div>
<div class="line"><span class="lineno">  540</span>            info_set_node.y_values[dev] / z</div>
<div class="line"><span class="lineno">  541</span>        ) * dev.return_transform_matrix()</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>      normalisation_row = np.ones(num_actions)</div>
<div class="line"><span class="lineno">  544</span>      weighted_deviation_matrix = np.vstack(</div>
<div class="line"><span class="lineno">  545</span>          [weighted_deviation_matrix, normalisation_row]</div>
<div class="line"><span class="lineno">  546</span>      )</div>
<div class="line"><span class="lineno">  547</span>      b = np.zeros(num_actions + 1)</div>
<div class="line"><span class="lineno">  548</span>      b[num_actions] = 1</div>
<div class="line"><span class="lineno">  549</span>      b = np.reshape(b, (num_actions + 1, 1))</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>      strategy = linalg.lstsq(weighted_deviation_matrix, b)[0]</div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span>      <span class="comment"># Adopt same clipping strategy as paper author&#39;s code.</span></div>
<div class="line"><span class="lineno">  554</span>      strategy[np.where(strategy &lt; 0)] = 0</div>
<div class="line"><span class="lineno">  555</span>      strategy[np.where(strategy &gt; 1)] = 1</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>      strategy = strategy / sum(strategy)</div>
<div class="line"><span class="lineno">  558</span>      <span class="keywordflow">for</span> index <span class="keywordflow">in</span> range(<a class="code hl_variable" href="low__level__alloc__test_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>(strategy)):</div>
<div class="line"><span class="lineno">  559</span>        info_state_policy[info_set_node.legal_actions[index]] = strategy[index]</div>
<div class="line"><span class="lineno">  560</span>    <span class="comment"># Use a uniform strategy as sum of all regrets is negative.</span></div>
<div class="line"><span class="lineno">  561</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  562</span>      <span class="keywordflow">for</span> index <span class="keywordflow">in</span> range(<a class="code hl_variable" href="low__level__alloc__test_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>(legal_actions)):</div>
<div class="line"><span class="lineno">  563</span>        info_state_policy[legal_actions[index]] = 1.0 / <a class="code hl_variable" href="low__level__alloc__test_8cc.html#afed088663f8704004425cdae2120b9b3">len</a>(legal_actions)</div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordflow">return</span> info_state_policy</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="ttc" id="alow__level__alloc__test_8cc_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="low__level__alloc__test_8cc.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition</b> <a href="low__level__alloc__test_8cc_source.html#l00046">low_level_alloc_test.cc:46</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="efr_8py_source.html#l00498">open_spiel.python.algorithms.efr.EFRSolver._external_only</a>, and <a class="el" href="low__level__alloc__test_8cc_source.html#l00046">len</a>.</p>

<p class="reference">Referenced by <a class="el" href="outcome__sampling__mccfr_8py_source.html#l00061">open_spiel.python.algorithms.outcome_sampling_mccfr.OutcomeSamplingSolver._episode()</a>, <a class="el" href="external__sampling__mccfr_8py_source.html#l00069">open_spiel.python.algorithms.external_sampling_mccfr.ExternalSamplingSolver._full_update_average()</a>, <a class="el" href="efr_8py_source.html#l00236">open_spiel.python.algorithms.efr._EFRSolverBase._update_current_policy()</a>, and <a class="el" href="external__sampling__mccfr_8py_source.html#l00110">open_spiel.python.algorithms.external_sampling_mccfr.ExternalSamplingSolver._update_regrets()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver_ab0abc226b5fd4a593318ebd08ea67e1f_icgraph.png" border="0" usemap="#aclassopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver_ab0abc226b5fd4a593318ebd08ea67e1f_icgraph" alt=""/></div>
<map name="aclassopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver_ab0abc226b5fd4a593318ebd08ea67e1f_icgraph" id="aclassopen__spiel_1_1python_1_1algorithms_1_1efr_1_1_e_f_r_solver_ab0abc226b5fd4a593318ebd08ea67e1f_icgraph">
<area shape="rect" title=" " alt="" coords="376,173,588,214"/>
<area shape="rect" href="classopen__spiel_1_1python_1_1algorithms_1_1outcome__sampling__mccfr_1_1_outcome_sampling_solver.html#a17f52c11f3fbb6b5aea3152438716500" title=" " alt="" coords="5,29,328,70"/>
<area shape="poly" title=" " alt="" coords="446,165,392,122,360,101,327,84,297,73,298,68,329,79,363,97,395,118,449,161"/>
<area shape="rect" href="classopen__spiel_1_1python_1_1algorithms_1_1external__sampling__mccfr_1_1_external_sampling_solver.html#a04b197e89b50faf056ad4e701fc763f0" title=" " alt="" coords="34,118,299,174"/>
<area shape="poly" title=" " alt="" coords="360,178,299,169,300,163,360,173"/>
<area shape="rect" href="classopen__spiel_1_1python_1_1algorithms_1_1efr_1_1___e_f_r_solver_base.html#a391f68833db2d3446e9c7cae13355a8e" title=" " alt="" coords="36,221,297,262"/>
<area shape="poly" title=" " alt="" coords="361,215,298,224,297,219,360,209"/>
<area shape="rect" href="classopen__spiel_1_1python_1_1algorithms_1_1external__sampling__mccfr_1_1_external_sampling_solver.html#a2dada91160124d9dfe431b47b25a9e81" title=" " alt="" coords="34,310,299,366"/>
<area shape="poly" title=" " alt="" coords="431,224,329,276,244,312,242,307,327,271,429,219"/>
<area shape="poly" title=" " alt="" coords="219,16,199,10,166,8,136,10,117,15,110,21,113,28,108,30,105,19,115,10,135,5,167,3,200,5,220,11"/>
<area shape="poly" title=" " alt="" coords="218,106,199,99,166,96,138,98,120,103,111,110,111,118,106,117,106,107,118,98,137,93,167,91,200,94,220,101"/>
<area shape="poly" title=" " alt="" coords="219,208,199,202,166,200,136,202,117,207,110,213,113,220,108,222,105,211,115,202,135,197,167,195,200,197,220,203"/>
<area shape="poly" title=" " alt="" coords="218,298,199,291,166,288,138,290,120,295,111,302,111,310,106,309,106,299,118,290,137,285,167,283,200,286,220,293"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3f0229e42e0ef3eab733e869edcee91f" name="a3f0229e42e0ef3eab733e869edcee91f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f0229e42e0ef3eab733e869edcee91f">&#9670;&#160;</a></span>_external_only</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">open_spiel.python.algorithms.efr.EFRSolver._external_only</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="efr_8py_source.html#l00498">498</a> of file <a class="el" href="efr_8py_source.html">efr.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="efr_8py_source.html#l00500">open_spiel.python.algorithms.efr.EFRSolver._regret_matching()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>open_spiel/python/algorithms/<a class="el" href="efr_8py_source.html">efr.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
